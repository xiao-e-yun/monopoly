<script setup lang="ts">
import { computed } from 'vue';
import { useGameState } from '../game/state';

const state = useGameState()
const players = computed(() => Array.from(state.players.values()))
</script>

<template>
  <h1>éŠæˆ²çµæŸ</h1>
  ç¸½å›åˆæ•¸: {{ state.inning}}
  æœ€çµ‚è´å®¶æ˜¯... ç¬¬ {{ state.winner!.id }} çµ„ï¼
  
  <div class="player" v-for="player in players.toSorted((a, b) => b.score - a.score)">
    <h3>ç¬¬ {{ player.id }} çµ„  <i>{{player === state.winner ? 'ğŸ‘‘' : 'ğŸ‘»'}}</i></h3>
    <span>åˆ†æ•¸: {{ player.score }}</span>
  </div>
</template>

<style lang="scss" scoped>
.player {
  margin: 0.5rem auto;
  padding: 0.2rem 0.5rem;
  border-radius: 0.5rem;
  background: #555;
  width: 16em;
  min-width: 20vw;

  h3 {
    margin: 0;
    font-size: 1.2rem;
  }
}
</style>